(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{39:function(e){e.exports=JSON.parse('{"photos":{"page":1,"pages":40,"perpage":25,"total":1000,"photo":[{"id":"51371043827","owner":"27026522@N05","secret":"0d4a3b5a2b","server":"65535","farm":66,"title":"2021_08_Trix320_Linhof_4x5_\u0420\u044f\u0437\u0430\u043d\u044c_02.jpg","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371043912","owner":"79006245@N04","secret":"1524cf1446","server":"65535","farm":66,"title":"Driving Route 66 through AZ and NM","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371043997","owner":"49311397@N07","secret":"99e9ed6d4b","server":"65535","farm":66,"title":"By MOVE","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371044977","owner":"9472244@N02","secret":"fb3b58b819","server":"65535","farm":66,"title":"20131213-6358","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371045137","owner":"84218975@N00","secret":"36ca4937ff","server":"65535","farm":66,"title":"IMG_5641.jpg","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371045217","owner":"191011897@N05","secret":"773e55c77b","server":"65535","farm":66,"title":"DSC_4700.jpg","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371045232","owner":"23685180@N03","secret":"c2e83901eb","server":"65535","farm":66,"title":"IMG_5920.jpg","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371802756","owner":"185288333@N07","secret":"3a9e52937e","server":"65535","farm":66,"title":"A-2021-08-12-0202_f","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51371803726","owner":"190746410@N03","secret":"c715e47ae8","server":"65535","farm":66,"title":"c0b1a686e735eb1981dcc574c9c1bc8d","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372031043","owner":"193555508@N08","secret":"c0b66c2b09","server":"65535","farm":66,"title":"Face hardships","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372031358","owner":"94105764@N05","secret":"2830891d43","server":"65535","farm":66,"title":"art2-46","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372032063","owner":"25914899@N00","secret":"d8a1338aa5","server":"65535","farm":66,"title":"Tiki Disco @ Knockdown Center 8.8.2021 by Kenny Rodriguez","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372032243","owner":"158872628@N08","secret":"79e974b005","server":"65535","farm":66,"title":"2021-08-11_07-03-39","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372032328","owner":"193711299@N08","secret":"d6fd404ff0","server":"65535","farm":66,"title":"46429eba-4d98-4054-be11-626410879b7d.jpg","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372533729","owner":"189309482@N05","secret":"0df2d1f678","server":"65535","farm":66,"title":"\ud83d\udc8eSolo por hoy, Llevo a cabo mi trabajo y misi\xf3n correctamente, y desde la paz. (4to Principio de Reiki). \ud83d\udc9bEl trabajo es la fuente de toda riqueza y cultura. Nos aleja del aburrimiento, vicios y necesidad. Debemos aprovechar al m\xe1ximo nues","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372534309","owner":"68768210@N03","secret":"566fd73ced","server":"65535","farm":66,"title":"IMG_9140.jpg","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372806775","owner":"186489504@N08","secret":"aec7268d5f","server":"65535","farm":66,"title":"20210809_120751","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372806790","owner":"162922117@N08","secret":"cb065af01a","server":"65535","farm":66,"title":"","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372806905","owner":"97102756@N07","secret":"b1b357a0b3","server":"65535","farm":66,"title":"B-2021-08-12-0202_f","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372807040","owner":"12639178@N07","secret":"df4740507c","server":"65535","farm":66,"title":"K\xe4fer","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372807255","owner":"185888701@N02","secret":"9f9a5378cf","server":"65535","farm":66,"title":"2021-08-11_02-03-01","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372807310","owner":"25292778@N00","secret":"dd5d9c43b6","server":"65535","farm":66,"title":"IMG_5631.JPEG","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372807780","owner":"101398523@N07","secret":"0d7c8f0544","server":"65535","farm":66,"title":"2021-08-11_07-03-08","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372807910","owner":"183755369@N08","secret":"9137170d72","server":"65535","farm":66,"title":"10 perfect recipes for everyday life","ispublic":1,"isfriend":0,"isfamily":0},{"id":"51372808100","owner":"51036032@N08","secret":"579a3b1b82","server":"65535","farm":66,"title":"","ispublic":1,"isfriend":0,"isfamily":0}]},"stat":"ok"}')},56:function(e,t,i){},79:function(e,t,i){},88:function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n),c=i(17),a=i.n(c),o=(i(55),i(56),i(57),i(21)),s=i(8),l=(i(79),i(95)),d=i(92),b=i(94),f=i(45),u=i(96),j=i(44),h=i.n(j),p=i(2),m=function(e){return"https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=84bf9b29bce8db001d1e58dbec8a5770&text=".concat(e,"&format=json&nojsoncallback=1")};var O=function(e){var t=Object(n.useState)(""),i=Object(s.a)(t,2),r=i[0],c=i[1],a=Object(n.useState)(!1),o=Object(s.a)(a,2),l=o[0],d=o[1],j=Object(n.useRef)(h()((function(e){return O(m(e))}),1e3)).current;function O(t){fetch(t).then((function(e){return e.json()})).then((function(t){console.log("data from search on: ",r,t),e.onSearchSuccess(t,r)})).catch((function(e){console.error("error while searching...",e),d(!0)}))}return Object(p.jsxs)(p.Fragment,{children:[!l&&Object(p.jsxs)(b.a,{className:"d-flex",children:[Object(p.jsx)(f.a,{type:"search",placeholder:"Search",className:"input search-input","aria-label":"Search",onChange:function(e){c(e.target.value),j(e.target.value)},value:r}),r&&Object(p.jsx)(u.a,{variant:"outline-success",onClick:function(){return O(m(r))},children:"Search"}),r&&Object(p.jsx)(u.a,{variant:"warning",className:"clear-current-search",onClick:function(){c(""),e.onSearchClear()},children:"X"})]}),l&&Object(p.jsx)(p.Fragment,{children:"Search failed"})]})};var x=function(e){return Object(p.jsx)(l.a,{bg:"light",expand:"lg",fixed:"top",children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)(l.a.Brand,{href:"/slickr",onClick:e.onSearchClear,children:"Slickr"}),Object(p.jsx)(O,{onSearchSuccess:e.onSearchSuccess,onSearchClear:e.onSearchClear})]})})},g=i(15),v=i(16),w=i(40),y=i(93),k="_n";function S(e){return"http://farm".concat(e.farm,".static.flickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret).concat(k,".jpg")}var N,_=function(e){var t=function(e){return e.replace("_n","_z")}(e.url);return Object(p.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(p.jsxs)(y.a,{show:e.shouldShow,onHide:e.onHide,keyboard:!0,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(p.jsx)(y.a.Header,{children:Object(p.jsx)(y.a.Title,{children:e.title})}),Object(p.jsx)(y.a.Body,{children:Object(p.jsx)("img",{src:t,alt:"".concat(e.title," at ").concat(t)})}),Object(p.jsx)(y.a.Footer,{children:Object(p.jsx)(u.a,{variant:"primary",onClick:e.onHide,children:"Close"})})]})})},C=v.a.div(N||(N=Object(g.a)(["\n    border: 1px solid grey;\n    margin: 1rem auto;\n    padding: 1rem;\n    box-shadow: 1px 1px 3px #333;\n    width: calc(100% - 6rem);\n    height: 300px;\n    vertical-align: top;\n    \n    @media (min-width: 960px) {\n        display: inline-block;\n        width: 300px;\n        margin: 1rem;\n        padding: 1rem;\n        a.link {\n            display: none;\n        }\n    }\n    \n    & img {\n        width: 100%;\n        max-height: calc(300px - 4rem);\n    }\n    & label {\n        text-align: center;\n        width: 100%;\n        background-color: rgba(132, 132, 132, 0.2);\n        color: #333;\n        font-weight: bold;\n        padding: .5em;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    & a.link {\n        text-decoration: none;\n        color: red;\n        padding: 0 .2em;\n    }\n"])));var E,F=function(e){var t=Object(n.useState)(!1),i=Object(s.a)(t,2),r=i[0],c=i[1];return Object(p.jsxs)(C,{className:"image-container",onClick:function(){return c(!0)},children:[e.title&&Object(p.jsx)("label",{children:e.title}),Object(p.jsx)("img",Object(w.a)({},e)),e.url&&Object(p.jsx)("a",{className:"link",href:e.url,children:"download"}),r&&Object(p.jsx)(_,Object(w.a)({shouldShow:r,onHide:function(){c(!1)}},e))]})},I=v.a.section(E||(E=Object(g.a)(["\n    width: 100%;\n    padding: 1em;\n    \n    @media (min-width: 960px) {\n        width: 95%;\n        margin: auto;\n    }\n"])));var T=function(e){return Object(p.jsx)(I,{children:(t=e.photos,t.map((function(e){return{url:S(e),title:e.title}}))).map((function(e,t){return Object(p.jsx)(F,{src:e.url,alt:"".concat(e.title," at ").concat(e.url),title:e.title,url:e.url},"photo-".concat(t))}))});var t},z=i(39),B=i(50),H=i.n(B);var L,M=function(){var e=localStorage.getItem("content-warning"),t=Object(n.useState)("ok"!==e),i=Object(s.a)(t,2),r=i[0],c=i[1],a=function(){c(!1),window.close()};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.a,{show:r,onHide:a,backdrop:"static",keyboard:!1,children:[Object(p.jsx)(y.a.Header,{children:Object(p.jsx)(y.a.Title,{children:"Warning: Unfiltered content."})}),Object(p.jsxs)(y.a.Body,{children:["This application fetches images from public service.",Object(p.jsx)("br",{}),"People may choose to upload disturbing content, containing but not limited to:",Object(p.jsx)("br",{}),"sexual, child abuse, self-harm, gore, mutilation etc.",Object(p.jsx)("br",{}),"Continue only if you are okay with this."]}),Object(p.jsxs)(y.a.Footer,{children:[Object(p.jsx)(u.a,{variant:"secondary",onClick:a,children:"Close the browser tab/window."}),Object(p.jsx)(u.a,{variant:"primary",onClick:function(){c(!1),localStorage.setItem("content-warning","ok")},children:"I understand. Let me continue to app anyway."})]})]})})},P=v.a.div(L||(L=Object(g.a)(["\n    z-index: 1000;\n    background-color: white;\n    color: red;\n    font-size: 30px;\n    position: fixed;\n    top: 30%;\n    left: 0; right: 0;\n    text-align: center;\n    padding: 100px;\n"])));var D,G=function(e){return Object(p.jsx)(p.Fragment,{children:e.show&&Object(p.jsx)(P,{children:Object(p.jsx)("div",{id:"loader",children:"Loading..."})})})},J=v.a.div(D||(D=Object(g.a)(["\n    z-index: 1000;\n    height: calc(100%-10px);\n    width: calc(100%-100px);\n    background-color: rgba(248, 248, 248, 0.2);\n    color: red;\n    font-size: 40px;\n    position: fixed;\n    top: 30%;\n    left: 10%;\n    right: 10%;\n    text-align: center;\n    padding: 100px;\n"])));var R=function(e){return Object(p.jsx)(p.Fragment,{children:e.show&&Object(p.jsx)(J,{children:Object(p.jsx)("div",{id:"error",children:"Error. Try again."})})})};var A=function(){var e=Object(n.useState)(1),t=Object(s.a)(e,2),i=t[0],r=t[1],c=Object(n.useState)(z.photos.photo),a=Object(s.a)(c,2),l=a[0],d=a[1],b=Object(n.useState)(!1),f=Object(s.a)(b,2),u=f[0],j=f[1],h=Object(n.useState)(!1),m=Object(s.a)(h,2),O=m[0],g=m[1],v=Object(n.useState)([]),w=Object(s.a)(v,2),y=w[0],k=w[1],S=Object(n.useState)(0),N=Object(s.a)(S,2),_=N[0],C=N[1],E=Object(n.useState)(""),F=Object(s.a)(E,2),I=F[0],B=F[1],L=Object(n.useState)(!1),P=Object(s.a)(L,2),D=P[0],J=P[1];function A(){if(!u){var e=function(){return"https://api.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=84bf9b29bce8db001d1e58dbec8a5770&per_page=25&page=".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,"&format=json&nojsoncallback=1")}(i);if(I.includes(e))return;B(I+";"+e),j(!0),fetch(e).then((function(e){return e.json()})).then((function(e){var t=1===i?Object(o.a)(e.photos.photo):[].concat(Object(o.a)(l),Object(o.a)(e.photos.photo));d(t),j(!1)})).catch((function(e){j(!1),g(!0)}))}}var K=function e(){var t=document.documentElement.scrollTop;C(t),t>=document.documentElement.scrollHeight-1*document.documentElement.offsetHeight&&(r(i+1),document.removeEventListener("scroll",e))};return Object(n.useEffect)((function(){if(!D)return A(),document.addEventListener("scroll",K,!0),function(){document.removeEventListener("scroll",K)}}),[_]),Object(p.jsxs)("div",{className:"App",style:{opacity:u?.4:1},children:[Object(p.jsx)(M,{}),Object(p.jsxs)(H.a,{location:"bottom",buttonText:"I understand. Use cookies.",cookieName:"slickr-cookie-consent",style:{background:"#2B373B",fontWeight:"bold"},buttonStyle:{color:"#4e503b"},children:["This website uses cookies to enhance the user experience.",Object(p.jsx)("br",{}),"Experience will be suboptimal without it. Please do not use app if you do not consent."]}),Object(p.jsx)(x,{onSearchSuccess:function(e,t){J(!0),d(e.photos.photo),""===t||y.includes(t)||(k([].concat(Object(o.a)(y),[t])),localStorage.setItem("search-terms",JSON.stringify([].concat(Object(o.a)(y),[t]))))},onSearchClear:function(){r(1),d(z.photos.photo),J(!1),A()}}),Object(p.jsx)(T,{photos:l}),Object(p.jsx)(R,{show:O}),Object(p.jsx)(G,{show:u})]})},K=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,97)).then((function(t){var i=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;i(e),n(e),r(e),c(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(A,{})}),document.getElementById("root")),K()}},[[88,1,2]]]);
//# sourceMappingURL=main.bed76e4e.chunk.js.map